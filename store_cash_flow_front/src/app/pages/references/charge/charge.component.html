<div class="flex card flex-col w-full gap-8">
    
    <div class="font-semibold text-xl mb-2">Financial operations: Consumable inputs</div>
    <div class="flex flex-column gap-6">
        <div class="flex gap-4">
            <app-autocomplete
                [(details)]="chargeTypesAutocompleteDetails"
                [control]="form.get('chargeType')" />
            <p-floatlabel variant="on">
                <p-datepicker id="transactionDateMin" [(ngModel)]="selectedTransactionDateMin" [showButtonBar]="true" dateFormat="dd MM yy" />
                <label for="transactionDateMin">Transaction date min</label>
            </p-floatlabel>
            <p-floatlabel variant="on">
                <p-datepicker id="transactionDateMax" [(ngModel)]="selectedTransactionDateMax" [showButtonBar]="true" dateFormat="dd MM yy" />
                <label for="transactionDateMax">Transaction date max</label>
            </p-floatlabel>
            <app-autocomplete
                [(details)]="chargesTransactionStatesAutocompleteDetails"
                [control]="form.get('chargesTransactionStates')" />
            <app-autocomplete
                [(details)]="periodsAutocompleteDetails"
                [control]="form.get('period')" />
            <app-autocomplete
                [(details)]="consumedByAutocompleteDetails"
                [control]="form.get('consumedBy')" />
        </div>
        <div class="flex">
            <p-button label="Search" icon="pi pi-search" [loading]="searchButtonIsLoading" (click)="getData()" />
        </div>
    </div>
    <ng-container *ngIf="chargesTransactionStatesAutocompleteDetails?.values">
        <app-charge-array [dataList$]="chargesList$" (onAddChargeClick)="onAddChargeClick()"/>
    </ng-container>
</div>

<app-transaction-adding-form [dialogStatus]="addChargeDialogStatus"
                            (dialogStatusChange)="onDialogStatusChanged($event)"
                            *ngIf="addChargeDialogStatus.dialogIsVisible" />
